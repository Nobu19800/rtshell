======
rtcomp
======

--------------------------------
コンポジットコンポーネントの管理
--------------------------------

.. include:: ../../common/ja/docinfo_block.txt

書式
====

rtcomp [options] <manager[:name]|composite component path>

概要
====

実行している複数のコンポーネントを一つのコンポジットコンポーネントとして
構成し、選択されたポートを外部にエクスポートします。Execution context
も選択することが可能です。新しいコンポジットコンポーネントを作るか既存の
コンポジットコンポーネントを編集することができます。既存のコンポジットコ
ンポーネントに新しいメンバーを追加することまたはメンマーを消すことができ
ます。エクスポートされているポートの変更ができます。

必要なオプションは既存のコンポジットコンポーネのパスまたはマネージャのパ
スです。マネージャーを指定する場合、新しいコンポジットコンポーネントを作
ります。名前を指定する場合はマネージャのパスにコロンと名前を追加すること
指定できます。名前が指定されていない場合はデフォルトが選択されます。
`例`_ に参照してください。

追加する（-a）または消す（-r）コンポーネントを指定する場合はエクスポート
または隠すポート名はコンポーネントのパスにカンマで区切ったリストとして指
定してください。 `例`_ に参照してください。

オプション
==========

-a ADD, --add=ADD
  コンポジットコンポーネントに含むコンポーネントとポートを指定する。
  ポート名はカンマで区切ったリストとしてパスに追加する。
  このオプションは複数つかえる。

-o OPTIONS, --options=OPTIONS
  コンポーネントを作る時の追加オプション。「&」で始めてください。

-r REMOVE, --remove=REMOVE
  コンポジットコンポーネントから消すコンポーネントやポートを指定する。
  ポート名はカンマで区切ったリストとしてパスに追加する。
  このオプションは複数つかえる。

-t TYPE, --type=TYPE
  Execution contextのタイプ。[デフォルト: PeriodicECSharedComposite]

.. include:: ../../common/ja/common_opts.txt

.. include:: ../../common/ja/common_body.txt

例
==

::

  $ rtcomp /localhost/manager.mgr:MotorUnit -a
  /localhost/Motor0.rtc:out -a /localhost/Controller0.rtc:in,out

``Controller0.rtc`` の ``in`` というポートと ``Motor0.rtc`` の ``out`` という
ポートをエクスポートして ``Motor0.rtc`` と ``Controller0.rtc`` によってコン
ポジットコンポーネントを作ります。コンポジットコンポーネントのインスタ
ンス名は ``MotorUnit`` になります。

::

  $ rtcomp /localhost/MotorUnit.rtc -a /localhost/Sensor0.rtc:out

既存の ``MotorUnit.rtc`` コンポジットコンポジットを編集して、
``Sensor0.rtc`` の ``out`` ポートをエクスポートして ``Sensor0.rtc`` を
コンポジットコンポーネントに追加します。

::

  $ rtcomp /localhost/MotorUnit.rtc -a /localhost/Sensor0.rtc:in

すでに ``Sensor0.rtc`` がメンバーとして登録された既存の ``MotorUnit.rtc``
コンポジットコンポジットを編集して、 ``Sensor0.rtc`` の ``in`` ポートを
エクスポートします。

::

  $ rtcomp /localhost/MotorUnit.rtc -r /localhost/Sensor0.rtc:out

すでに ``Sensor0.rtc`` がメンバーとして登録された既存の ``MotorUnit.rtc``
コンポジットコンポジットを編集して、 ``Sensor0.rtc`` の ``out`` ポートを
隠します。

::

  $ rtcomp /localhost/MotorUnit.rtc -r /localhost/Controller0.rtc:in,out

すでに ``Controller0.rtc`` がメンバーとして登録された既存の ``MotorUnit.rtc``
コンポジットコンポジットを編集して、 ``Controller0.rtc`` の ``in`` と
``out`` ポートを隠します。

::

  $ rtcomp /localhost/MotorUnit.rtc -r /localhost/Controller0.rtc -r
  /localhost/Motor0.rtc

すでに ``Controller0.rtc`` と ``Motor0.rtc`` がメンバーとして登録された
既存の ``MotorUnit.rtc`` コンポジットコンポジットを編集して、
``Controller0.rtc`` と ``Motor0.rtc`` を消します。


参照
====

``rtmgr`` (1)

